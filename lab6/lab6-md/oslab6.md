# 实验6 磁盘移臂调度算法

## 一、实验目的
加深对于操作系统设备管理技术的了解，体验磁盘调度算法的重要性

掌握⼏种重要的磁盘调度算法，练习模拟算法的编程技巧，锻炼研究分析实验数据的能⼒

## 二、示例实验
代码及其运行截图:
![alt text](images\1.png)
![alt text](images\2.png)
![alt text](images\3.png)
![alt text](images\4.png)

## 三、算法说明
#### Scan 算法
函数开始时，首先获取当前磁道Current和寻找方向Direction。然后，初始化一个名为SCAN的空闲磁道。接下来，遍历请求磁道数组Cylinder，计算请求磁道数组中不大于当前磁道的请求数量point

接下来对请求磁道数组进行升序排列。然后，根据当前磁道和寻找方向，分别计算电梯的移动路径。如果寻找方向为0，即从当前磁道向左移动，则从point-1开始遍历请求磁道数组，直到遍历完整个数组。在遍历过程中，输出电梯的移动路径

最后计算电梯移动的总距离SeekNumber，并输出结果

#### C-Scan 算法
遍历磁道请求队列，统计磁道号小于等于当前磁道号的请求数量

然后对磁道请求队列进行升序排列，如果磁头移动方向为0（向左），则从当前磁道开始，依次访问磁道号最小的请求，直到访问完所有请求。在访问过程中，磁头始终朝左移动，当到达磁盘的左边界时，再改变方向继续访问；如果磁头移动方向为1（向右），则从当前磁道开始，依次访问磁道号最大的请求，直到访问完所有请求。在访问过程中，磁头始终朝右移动，当到达磁盘的右边界时，再改变方向继续访问

最后调用 Report 函数输出磁盘访问顺序和磁头移动距离

#### Look 算法
遍历请求队列，统计当前磁道号小于等于当前磁盘指针 CurrentCylinder 的请求数量 point

之后对请求队列进行升序排列，如果当前磁盘指针 CurrentCylinder 与请求队列中的第一个请求的磁道号相等，则直接输出当前磁盘指针 CurrentCylinder，并更新磁盘访问距离 SeekNumber

如果当前磁盘指针 CurrentCylinder 与请求队列中的最后一个请求的磁道号相等，则先输出当前磁盘指针 CurrentCylinder，再输出请求队列中的所有请求，并更新磁盘访问距离 SeekNumber；如果当前磁盘指针 CurrentCylinder 与请求队列中的其他请求的磁道号不相等，则根据当前磁盘指针 CurrentCylinder 与请求队列中的第一个请求的磁道号之间的距离，选择一个最优的访问顺序，并输出访问顺序，同时更新磁盘访问距离 SeekNumber 和磁盘访问次数SeekChang

最后输出磁盘访问距离SeekNumber和磁盘访问次数SeekChang

## 四、实验总结

1.算法效率差异显著：不同算法在相同请求序列下的寻道距离可能相差2-3倍

2.方向改变成本：减少调头次数(如SCAN/LOOK)能显著提高整体效率

3.公平性与效率的权衡：

SSTF效率高但公平性差

SCAN/LOOK在效率和公平性间取得平衡

C-SCAN提供最均匀的响应时间

4.动态环境表现：

静态测试中SSTF表现最佳

动态生成请求时SCAN/LOOK更稳定

FCFS在任何情况下表现都最差

5.请求分布影响：

局部聚集请求会放大各算法差异

均匀分布时各算法(除FCFS)性能接近

极端分布时SCAN/C-SCAN的端点问题显现